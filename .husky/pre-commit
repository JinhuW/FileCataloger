#!/usr/bin/env sh

# Color codes for output
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
NC='\033[0m' # No Color

echo "üîç Pre-commit hook: Running code quality checks..."

# Run lint-staged for incremental checks (includes prettier, eslint, and typecheck)
echo "üìù Running lint-staged..."
npx lint-staged --config config/.lintstagedrc.json

# Run renderer validation (hooks, imports, etc)
echo "üéØ Validating renderer code..."
if ! yarn validate:renderer 2>/dev/null; then
  echo -e "${YELLOW}‚ö†Ô∏è  Renderer validation found issues - fix these in next iteration${NC}"
  # Don't fail the commit for now, just warn
fi

echo -e "${GREEN}‚úÖ Pre-commit checks passed!${NC}"
